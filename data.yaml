dependencies:
  "lib.custom_emitters": "emitters"

### Example 1 ###
extract:
  # Although not used, you must specify a source for any custom emitter using the base class
  # - step: Download the data via HTTP
  #   action: extract.source.http.DownloadFiles
  #   fetch:
  #     - "https://raw.githubusercontent.com/enigmadocs/custom-emitters/master/input.csv"

  # - step:
  #   action: emitters.CreateRecords
  #   numrecords: 3

  # - step:
  #   action: debug.LogValues

### Example 2 ###
extract:
  - step: Download the data via HTTP
    action: extract.source.http.DownloadFiles
    fetch:
      - "https://raw.githubusercontent.com/enigmadocs/custom-emitters/master/input.json"

  - step:
    action: emitters.jsonReadRecords
    source: "menu"

transform:
  - step: 3. Set schema for output table
    action: transform.schema.SetSchema
    fields:
      - name: station_name
        type: string
      - name: available_bikes
        type: integer

load:
  - step: 4. Output to local CSV file
    action: load.OutputCSV
    repository: .
